## vim 编辑器

> vim是从vi发展过来的一款文本编辑器



### 中文文档

```sh
$wget https://nchc.dl.sourceforge.net/project/vimcdoc/vimcdoc/1.5.0/vimcdoc-1.5.0.tar.gz    
```

* 解压  tar -zxvf vimcdoc-1.5.0.tar.gz 
* 运行安装命令   $sudo ./vimcdoc.sh -i 

切换中/英文模式

```
:set helplang=en/cn
```

帮助文档的打开/回退

```
ctrl + ]
ctrl + o
```

查看帮助文档

```
:help {快捷键或者相关主题}
:help CTRL-A  控制字符的帮助
:help i_CTRL-H  #insert 模式
:help v_CTRL-H  #Visal 模式
:help c_CTRL-H  #Command 模式
:help E37  #查看错误码
# 按下table #可以匹配前缀的帮助主题
# 按下Ctrl + D #都列出来

# 帮助主题  分组匹配
:helpgrep pattern  # 进入后可以进行如下操作
:cn
:cN :cprev
:cfirst
:clast
```



### 工作模式:

1. 命令模式 -- 打开文件之后, 默认进入命令模式
2. 编辑模式 -- 需要输入一些命令, 切换到编辑模式
3. 末行模式 -- 在末行模式下可以输入一些命令



### 移动命令



```
w  单词移动
b  反向单词移动

e  光标移动到word的最后一个字符上
ge  光标移动到word的前一个字符上
```

大写命令

```
W
B
E
gE
# 跳到是non-word 的特殊字符 比如".","-"
```

搜索跳转

```
fx  # 搜索本行字符x
3fx  # 搜索第三个x符号
Fx  # 反向 
3Fx  # 反向 

t  # 类似，只不过光标停留在前一个字符上
T  # 方向相反 光标在下一个字符上

% # 在 (){}[] 之间跳转
```



### 常用快捷键

```sh
命令模式下的操作:
	1>. 光标的移动	
				k
			H        L
				j
		前  下  上  后
		行首: 0
		行尾: $
		文件开始位置: gg
		文件末尾: G
		行跳转: 300G
	2>. 删除操作
			删除光标后边的字符: x
			........前......: 大X
			........单词: dw  (光标移动到单词的开始位置, 否只能删除一部分)
			...光标到行首的字符串: d0
			.........行尾.......: D(d$)
			删除光标当前行: dd
			删除多行: ndd (n -- 自然数)
	3>. 撤销操作
				撤销: u
				反撤销: ctrl + r
				
	4>. 复制粘贴
				复制: yy
				复制多行: nyy
				
				粘贴: p (光标所在行的下一行)
				粘贴: P (光标所在行)
				
				剪切 == 删除
		5>. 可视模式
				切换到可是模式: v
				选择内容: hjkl
				操作: 复制: y   删除: d
		6>. 查找操作
				1). /hello
				2). ?hello
				3). # -- 把光标移动到查找的单词身上 , 按#
				遍历时候的快捷键: N/n
		7>. r: 替换当前字符
		
		缩进:
				向右: >>
				向左: <<
		8>. 查看man文档
	文本模式下的操作:
		切换到文本模式:
			a -- 在光标所在位置的后边插入
			A -- 在当前行的尾部插入
			
			i -- 在光标所在位置的前边插入
			I -- 在光标所在行的行首插入
			
			o -- 在光标所在行的下边开辟一个新的行
			O -- .............上.........
			
			s -- 删除光标后边的字符
			S -- 删除光标所在的行
	末行模式下的操作:
			查找: :s/tom/jack/g
						:%s/tom/jack/
						:20,25s/tom/jack/g
			保存退出:
				q: 退出
				q!: 退出不保存
				w: 保存
				wq: 保存退出
				x: == wq
	在命令模式下保存退出: ZZ
	分屏操作:
		1>. 水平分屏  sp
		2>. 垂直分屏  vsp
		分屏之间切换： 
```

### 分屏

```
vim的分屏功能

总结起来，基本都是ctrl+w然后加上某一个按键字母，触发一个功能。
（1）在shell里打开几个文件并且分屏:
　　vim -On file1 file2 ...
　　vim -on file1 file2 ...

大O表示垂直分割(vertical)，小o表示水平分割（默认horizontal），后面的n表示分几个屏，实际上我觉得不用写，默认按后面要分割的文件数来决定分几个屏。
（2）在vim里打开一个分屏:
　　创建空白分屏：
　　:new
　　打开任意文件：
　　:vsplit(:vsp) filename
　　:sp(split) filename
　　打开当前文件：
　　ctrl+w 和 s(split)
　　ctrl+w 和 v(vsplit)

（3）关闭一个分屏:
　　:only 或者 ctrl+w 和 o取消其它分屏，只保留当前分屏
　　ctrl+w 和 c(close)
　　只剩最后一个分屏以后推出：
　　ctrl+w 和 q(quit)
（4）移动光标，也就是切换分屏；也可以移动分屏，比如将左分屏移动到右边。
　　ctrl+w 和 w（各种切换，只有两个分屏的时候还是比较方便的）
　　ctrl+w 和 h(H) 左
　　ctrl+w 和 j(J) 下
　　ctrl+w 和 k(K) 上
　　ctrl+w 和 l(L) 右
（5）最后就是改变分屏尺寸的操作了。
　　ctrl+w 和 < 左
　　ctrl+w 和 > 右
　　ctrl+w 和 + 上
　　ctrl+w 和 - 下
　　ctrl+w 和 = 恢复均等
```



### other

配合数字使用

```
:数字n,`a`,内容,`esc`    # 会将内容重复输入n次
```

```
:数字n,x 删除n个字符
```



放弃所有的编辑直接退出 

```
:e!
```

